!function(t){t.fn.t=function(e,a){return this.each((function(){if("queue"==e)return t(this).q(a);var i,n,s,r,d,p=a,l=e,c=t(this),o=c,u=-1,_=!1,b=0,f=0,g=-1,m="12qwertyuiop[]asdfghjkl;zxcvbnm,./~!@#$%^&*()_+:1234567890-=op".split([]),y=function(e,a){return t.type(e)[0]==(a||"n")},k=function(){return _g=t.grep(S,(function(t){return"&"==t[0]||!t[1]})).length-1,-1<_g?_g:0},w=function(t){g!=t&&p.blink&&(p.blink_perm||o.data("blinking",g=t?1:0))},$={c:0,beep:function(){0==$.c&&($.c=t("html").data().__TAC),$.o&&$.o.stop(),$.o=$.c.createOscillator(),$.o.frequency.setValueAtTime(1,$.c.currentTime),$.g=$.c.createGain(),$.o.connect($.g),$.g.connect($.c.destination),$.o.start(),$.o.stop($.c.currentTime+.03)}};if("beep"==l&&!c.data().is_typing&&t("html").data().__TAC)return $.beep(),this;if("speed"==l&&y(p)&&9<p)return c.data("speed",p).data("blink",Math.max(100,p+c.data().ssbs)),this;if(""===l&&(l="<del>*</del>"),c.data().is_typing)return l=="paused".slice(0,-1)&&(c.data("paused",y(p,"b")?oo_=p:c.data("paused")?oo_=!1:oo_=!0),c.data().blink&&c.data("blinking",oo_)),this;if(l=="paused".slice(0,-1))return this;if(c.data("is_typing",1),y(l,"o")&&(p=l),/t\-/.test(c.attr("class")))return this;if("add"==l&&c.data().t){var C=p;p=t.extend({},c.data());var q=c=t(":first",c),A=y(p.typing,"f");C="<"+p.tag+' class="typing-add">'+C+"</"+p.tag+">"}else{var T,x;"add"==l&&(l=p,p={}),p=t.extend({t:!0,delay:!1,speed:50,speed_vary:!1,caret:"▎",tag:"span",blink:!0,beep:!1,blink_perm:!1,repeat:-3,pause_on_click:!1,pause_on_tab_switch:0,wrap:!1,mistype:!1,locale:"en",init:!1,typing:!1,fin:!1},p||c.data()),C=d=!1,c.data().t||(c.wrapInner(t("<"+p.tag+"/>",{class:"t-container",style:"top:auto;bottom:auto;"})),/^[ar]/.test(c.css("position"))||c.css({position:"relative"}),c.css({overflow:"hidden"})),p.wrap&&!c.parent().data().t_wrap&&(c.wrap(t("<div/>",/[.#]/.test(p.wrap[0])?"#"==p.wrap[0]?{id:p.wrap.substr(1)}:{class:p.wrap.substr(1)}:{style:p.wrap})),c.parent().data("t_wrap",1)),y(p.beep,"b")||(p.beep=!1),!0===p.beep&&y(t("html").data().__TAC,"u")&&(t("html").data("__TAC",__TAC=!!(window.AudioContext=window.AudioContext||window.webkitAudioContext)&&new AudioContext),__TAC||(p.beep=!1)),!1===p.repeat&&(p.repeat=-3),!0===p.blink&&(p.blink=3*p.speed),y(p.blink)&&100>p.blink&&(p.blink=100),!0===p.caret&&(p.caret="▎"),y(p.caret,"s")&&!t(".t-caret",c)[0]&&(!y(p.blink)&&(p.blink=!1),d=t("<"+p.tag+"/>",{class:"t-caret",html:p.caret}).appendTo(c),p.blink&&c.append("​")&&c.data("bi",setInterval((function(){if(0==o.length)return clearInterval(o.data("bi"));++f>=o.data().blink/10&&(f=0,(o.data().blinking|(v="h"==d.css("visibility")[0])||p.blink_perm)&&d.css({visibility:v?"visible":"hidden"}))}),10))),p.blink||c.data().bi&&clearInterval(c.data().bi)&&c.removeData("bi"),!y(p.blink_perm,"b")&&(p.blink_perm=!0),p.speed=!y(p.speed)||10>p.speed?10:p.speed,p.speed_vary&&(p.speed/=2.5),1<p.mistype||(p.mistype=!1),p.ssbs=Math.abs(p.blink-p.speed),c.data(p),t(".typing-0",c).replaceWith((function(){return this.childNodes})),t(".typing-add",c).remove(),q=c=t(":first",c);var S=y(l,"s")?l:c.html();""==S&&(S="​"),c.empty(),o.show().css({visibility:"visible"}),y(p.delay)&&0<p.delay&&(T=~~(1e3*p.delay/p.speed))&&p.blink_perm||w(1),A=y(p.typing,"f"),!0===p.pause_on_click&&c.parent().off("click").click((function(e){"1"!=t(e.target).data().click&&t(this).t("pause")})),!0===p.pause_on_tab_switch?y(t("html").data().__TAB,"u")&&(t("html").data("__TAB",1),t(document).on("visibilitychange",(function(){t(".t-container").parent().each((function(){h=t(document).attr("visibilityState").charAt(0),"h"==h&&t(this).data().paused&&t(this).data("keep_paused",1),t(this).p("h"==h||!(!t(this).data().keep_paused||!t(this).removeData("keep_paused")))}))}))):!1===p.pause_on_tab_switch&&t("html").data().__TAB&&(t("html").removeData("__TAB"),t(document).off("visibilitychange"))}/<kbd.*?>/i.test(S=String(C||S))&&c.parent().data("kbd",j_=1)&&c.parent().data("mistype",c.parent().data("mistype")?_j=c.parent().data().mistype:_j=10)&&(p.mistype=_j)&&(p.kbd=j_||!1),S=S.replace(/(.*?)[\u200b]+$/,"$1").replace(/<!\-\-([\s\S]+?)\-\->/g,"$1").replace(/<ins>([^0-9])<\/ins>/g,"$1").replace(/<(embed|command|col|wbr|img|br|input|hr|area|source|track|keygen|param)(.*?)[\/]?>/g,"<#$1$2/>").replace(/<ins>\s*(\d*[.]?\d*)\s*(<\/ins>)/g,'<ins data-ins="$1"></ins>').replace(/<ins(.*?)>([\s\S]*?)(<\/ins>)/g,(function(t,e,a){return"<#ins"+e+">"+a.replace(/<(?!#)/g,"<#")+"<#/ins>"+(a?"":"</ins>")})).replace(/<(del.*?data-del=")(.*?)(".*?)><\/(del>)/g,"<#$1$2$3><#/$4$2</$4").replace(/<del(.*?)>([\s\S]*?)<\/del>/g,(function(t,e,a,i){return r=(r=a.match(/<s>\s*(.*?)\s*<\/s>/i))&&r[0]?' data-s="'+(r[1]||"1")+'"':"",s=(s=a.match(/data-ins="(.*?)"/))&&s[1]?s[1]:""==r?.25:.75,a=a.replace(/(<s>.*?<\/s>|<[\/]?.*?>)/g,""),"<del"+e+r+' data-del="'+a.replace(/\n/g,"\\n")+'" data-ins="'+s+'">'+("*"!=a?a:"")+"</del>"})).replace(/<s>\s*(\d+)\s*<\/s>/g,'<s data-speed="$1"></s>').replace(/<(\w+)(.*?)>/g,"<$1$2><#/$1>").replace(/<\/(\w+)>/g,"</> ($1)").replace(/<[#]+/g,"<").replace(/(\/del>)\*</g,"$1<").match(/<ins.*?>[\s\S]*?<\/ins>|<[^<]+\/>|<\/> \(\w+\)|<[\s\S]+?><\/\w+>|&[#x]?[a-z0-9]+;|\r|\n|\t|\S|\s/gi),!y(T)&&(T=S.shift()),S.push("​"),"de"==p.locale&&(m='12qwertzuiopü+asdfghjklöä#<yxcvbnm,.-!"§$%&/(()=?1234567890ß*p+');var j=k()+1;!C&&y(p.init,"f")&&p.init(o),o.data("ti",x=setInterval((function(){if(++b>=(n=o).data("speed")/10)if(b=0,n.data("paused"))u=1;else if(!_){if(_=!_,y(T)){if(0<--T)return _=!_,void w(.25>=c.data().ins?0:1==u?u=-1:1);T=c.data().ins?"</>":S.shift()}else if(p.speed_vary&&~~(4*Math.random()))return void(_=!_);if(w(0),c.data().del&&(!0===n.data().beep&&$.beep(),c.data().s&&!T[0]&&c.text(""),i=String(c.data().del),!y(T,"a")&&"/"==T[1]&&(T=i.replace(/\\n/g,"\n").split([])),y(T,"a"))){if(u=T.pop())return c.data().s?c.html(T.join([])+"<mark "+("."==(r=String(c.data().s))[0]?'class="'+r.substr(1)+'"':'style="background:'+("1"==r?"yellow":r.split(",")[0])+((r=r.split(",")[1])?";color:"+r:"")+';"')+">"+c.data().del.substr(T.length)+"</mark>"):c.text(T.join([])),void(_=!_);"*"==i&&(q.wrapInner(t("<"+p.tag+"/>",{class:"typing-0",style:"display:none;"})),c=c.parent(),C&&(S=t.merge(["<"+p.tag+' class="typing-add"></'+p.tag+">"],S,["</"+p.tag+">"]),c=c.parent())),c=c.parent(),"​"==i&&c.find(":last").remove(),T=""}for(;"/"==T[1];)c=c.parent(),T=S.shift()||"";for(;!0===n.data().beep&&$.beep(),c.append(T),A&&p.typing(n,T,k(),j),!/<ins.*?>[\s\S]+</.test(T)&&/></.test(T)&&(c=c.find(":last")),(_ss=c.data("speed"))&&n.s(_ss),S[0]&&/<\w+/.test(S[0]);)T=S.shift();(T=S.shift())?((p.mistype&&!p.kbd||p.kbd&&/kbd/i.test(c.prop("tagName")))&&T&&!T[1]&&"​"!=c.data().del&&" "!=T&&!~~(Math.random()*p.mistype)&&-1<(__=t.inArray(T.toLowerCase(),m,2))&&(__+=1+~~(2*Math.random()),~~(2*Math.random())&&(__-=3),S=t.merge([90>T.charCodeAt(0)?m[__].toUpperCase():m[__],"</del>",T],S),T='<del data-ins=".25" data-del="​"></del>'),T&&"/"==T[1]&&c.data().ins&&(T=~~(1e3*Number(c.data().ins)/n.data().speed)),_=!_):(clearInterval(x),n.removeData(["is_typing","paused","ti"]),y(p.repeat)&&--p.repeat,-1<p.repeat?(p.init=!1,n.t(y(l,"o")?p:l,p)):(w(1),y(p.fin,"f")&&p.fin(n),y(__q=n.data().q,"a")&&__q.length&&n.a(__q.shift())))}}),10))}))},t.fn.a=function(e){return this.each((function(){t(this).data().t&&t(this).t("add",e)}))},t.fn.p=function(e){return this.each((function(){t(this).data().is_typing&&t(this).t("pause",e&&(!1===e||!0===e)?e:void 0)}))},t.fn.b=function(e){return this.each((function(){t(this).data().t&&t(this).t("beep")}))},t.fn.s=function(e){return this.each((function(){t(this).data().t&&t(this).t("speed",e)}))},t.fn.q=function(e){return this.each((function(){t(this).data().t&&t.type(e)[0].match(/s|n/)&&((q=t(this).data()).q||(q.q=[]),q.q.push(e.toString()),t(this).data().is_typing||t(this).a(q.q.shift()))}))},t.fn.t_off=function(e){return this.each((function(){t(this).data().t&&(C=t(this))&&((ti=C.data("ti"))&&clearInterval(ti),(bi=C.data("bi"))&&clearInterval(bi),C.removeData(),t(".t-container",C).replaceWith((function(){return this.childNodes})),t(".t-caret",C).remove()),!0===e&&C.text("")}))}}(jQuery);
//# sourceMappingURL=t.min.min.js.map